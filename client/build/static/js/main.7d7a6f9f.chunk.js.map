{"version":3,"sources":["img/avocado.png","config/config.js","reducers/auth.js","actions/types.js","reducers/index.js","store.js","actions/auth.js","Login.jsx","Headbar.jsx","Posts.jsx","Home.jsx","App.jsx","Form.jsx","Post.jsx","Routs.jsx","index.jsx"],"names":["module","exports","SERVER","initialState","login","user","reducer","state","action","type","update","$set","payload","rootReducer","combineReducers","auth","composeEnhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","status","stat","dispatch","Login","props","logOut","setState","LogOn","localStorage","clear","password","loginOnOff","this","username","className","onClick","Component","connect","statusLogin","Headbar","to","style","textDecoration","src","logo","alt","Posts","postDelete","id","axios","delete","setTimeout","get","then","res","data","posts","setItem","JSON","stringify","author","bind","length","slice","reverse","map","post","key","_id","date","title","content","pathname","Home","loginTryOn","log","pas","dta","param","regTry","lbUser","getItem","name","maxLength","ref","placeholder","required","value","App","addForm","validate","handleChange","handleSubmit","event","target","preventDefault","Date","toLocaleTimeString","hour","minute","toLocaleDateString","sended","push","onSubmit","onChange","Post","redir","renderPost","a","location","Routs","exact","path","component","Form","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7d7a6f9f.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/avocado.3951c08c.png\";","module.exports = {\n\n    SERVER: \"https://sokolov.tech\"\n\n    \n}","import update from 'immutability-helper';\nimport { AUTH_ON_OFF } from '../actions/types';\n\n\nconst initialState = {\n    login: '',\n    user: '',\n}\n\nconst reducer = (state = initialState, action) => {\n    const { type } = action;\n    switch (type) {\n        case AUTH_ON_OFF:\n            return update(state, {\n                login: { $set: action.payload.login },\n                user: { $set: action.payload.user },\n            });\n        default:\n            return state;\n    }\n\n}\n\nexport default reducer;","export const AUTH_ON_OFF = 'AUTH_ON_OFF';","import { combineReducers } from 'redux';\nimport auth from './auth';\n\nconst rootReducer = combineReducers(\n    {\n        auth,\n    }\n);\n\nexport default rootReducer;\n","import { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducers';\n\nconst initialState = {};\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst store = createStore(\n    rootReducer,\n    initialState,\n    composeEnhancer(applyMiddleware(thunk))\n);\n\nexport default store;\n\n\n","//import { startSession } from 'mongoose';\nimport { AUTH_ON_OFF } from './types';\n\nconst status = (stat) => (dispatch) =>{\n    dispatch({\n    type: AUTH_ON_OFF,\n    payload: {\n        login: stat.login,\n        user: stat.user,\n    }        \n    });\n\n}\n\nexport {status}","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { status as statusLogin } from './actions/auth';\nimport \"./Login.css\";\n\n\nclass Login extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            LogOn: false,\n            user: '',\n            login: '',\n            password: '',\n            status: ''\n        };\n    }\n    logOut = () => {\n        this.setState({ LogOn: false, user: '', status: '' });\n        this.props.status({ login: false, user: '' })\n        localStorage.clear()\n    }\n\n    render() {\n        const { loginOnOff } = this.props;\n        const { username } = this.props;\n        return (\n            <div className=\"back-login\">\n                { loginOnOff ?\n                    <div className=\"userplate\">\n                        <div className=\"userplate-name\">{username}</div>\n                        <button className=\"userplate-btn\"\n                            onClick={() => this.logOut()}\n                        >logout</button>\n                    </div> : null\n                }\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => ({\n    loginOnOff: state.auth.login,\n    username: state.auth.user,\n});\n\nconst mapDispatchToProps = dispatch => ({\n    status: (stat) => dispatch(statusLogin(stat))\n});\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\n\n\n","import React, { Component } from \"react\";\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport logo from './img/avocado.png'\nimport Login from \"./Login\";\nimport \"./Headbar.css\";\n\nclass Headbar extends Component {\n\n  render() {\n    const { loginOnOff } = this.props;\n    return (\n      <div className=\"back\">\n        { loginOnOff ?\n          <div className=\"btn-div\">\n            <Link to=\"/\" className=\"link\" style={{ textDecoration: 'none' }}>\n              <button type=\"button\" className=\"button\">\n                Home\n              </button>\n            </Link>\n            <Link to=\"/newpost\" className=\"link\" style={{ textDecoration: 'none' }}>\n              <button type=\"button\" className=\"button\">\n                New post\n              </button>\n            </Link>\n          </div>\n          : <div className=\"img-div\">\n            <img src={logo} alt=\"Avocato Cat\" />\n            <div className=\"title-div\">\n              Avocato Diary\n        </div>\n          </div>\n        }\n        <Login />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  loginOnOff: state.auth.login\n});\n\nexport default connect(mapStateToProps)(Headbar);","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { status as statusLogin } from './actions/auth';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { SERVER } from \"./config/config\";\nimport \"./Posts.css\";\n\nclass Posts extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      posts: [],\n      id: '',\n      LogOn: false,\n      user: '',\n      login: '',\n      password: '',\n      status: '',\n      author: ''\n    };\n    this.postDelete = this.postDelete.bind(this);\n  }\n\n  postDelete = (id) => {\n    axios.delete(`${SERVER}/post/${id}`, { id });\n    setTimeout(() => {\n      axios.get(`${SERVER}/posts/${this.props.username}`)\n        .then(res => res.data)\n        .then(posts => {\n          this.setState({ posts })\n          localStorage.setItem('posts', `${JSON.stringify(this.state.posts)}`)\n        })\n    }, 100);\n  }\n\n  componentDidUpdate() {\n    axios.get(`${SERVER}/posts/${this.props.username}`)\n      .then(res => res.data)\n      .then(posts => {\n        if (posts.length > this.state.posts.length) {\n          this.setState({ posts })\n          localStorage.setItem('posts', `${JSON.stringify(this.state.posts)}`)\n        }\n      })\n  }\n  componentDidMount() {\n    if (this.state.posts.length >= 0) {\n      axios.get(`${SERVER}/posts/${this.props.username}`)\n        .then(res => res.data)\n        .then(posts => {\n          this.setState({ posts })\n          localStorage.setItem('posts', `${JSON.stringify(this.state.posts)}`)\n        }\n        );\n    }\n  }\n\n  render() {\n    const { loginOnOff } = this.props;\n    const { username } = this.props;\n    return (\n      <div className=\"pole\">\n        <div className=\"Posts\" >\n          {this.state.posts.slice(0).reverse().map(post =>\n            <div key={post._id} className=\"wrapper-posts\">\n              <div className=\"nameplate-posts-div\">\n                <div className=\"nameplate-posts\">\n                  <b>Date:</b> &nbsp; {post.date}\n                </div>\n                <div className=\"nameplate-posts\">\n                  <b>Titile:</b> &nbsp; {post.title}\n                </div>\n              </div>\n              <div className=\"text-pole-posts\">\n                {post.content}\n              </div>\n              <div className=\"button-div\">\n                <button\n                  onClick={() => { this.postDelete(post._id) }}\n                  className=\"delete-posts\"\n                  type=\"submit\"\n                > delete\n            </button>\n                <Link to={{\n                  pathname: `post/${post._id}`,\n                  state: { id: post._id }\n                }} className=\"detail-posts\" > detail </ Link>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  };\n}\n\nconst mapStateToProps = state => ({\n  loginOnOff: state.auth.login,\n  username: state.auth.user,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  status: (stat) => dispatch(statusLogin(stat))\n});\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Posts);","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { status as statusLogin } from './actions/auth';\nimport axios from 'axios';\nimport Posts from './Posts';\nimport { SERVER } from \"./config/config\";\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      posts: [],\n      LogOn: false,\n      user: '',\n      login: '',\n      password: '',\n      status: ''\n    };\n  }\n  loginTryOn = (log, pas) => {\n    if (log === '' || pas === '') {\n      this.setState({ status: 'Заполните все поля' })\n    } else {\n      axios.post(`${SERVER}/api/login/`, { log, pas })\n        .then(dta => dta.data)\n        .then(param => {\n          this.setState({\n            status: param.status,\n            LogOn: param.LogOn,\n            user: param.user\n          });\n          if (param.user) {\n            localStorage.setItem('user', param.user)\n          }\n          setTimeout(() => {\n            this.setState({ status: '' });\n            this.props.status({ login: param.LogOn, user: param.user })\n          }, 1500);\n        });\n    }\n  }\n\n  regTry = (log, pas) => {\n    if (log === '' || pas === '') {\n      this.setState({ status: 'Заполните все поля' })\n    } else if (log.length > 10 || pas.length > 10) {\n      this.setState({ status: 'Логин и пароль должны быть не длиннее 10 символов' })\n    } else if (log.length < 3 || pas.length < 3) {\n      this.setState({ status: 'Логин и пароль должны быть длиннее 3 символов' })\n    } else {\n      axios\n        .post(`${SERVER}/api/register/`, { log, pas })\n        .then(dta => {\n          { }\n          this.setState(dta.data);\n          setTimeout(() => this.setState({ status: '' }), 2000);\n        })\n    }\n  }\n  componentDidMount() {\n    const lbUser = localStorage.getItem('user');\n    if (lbUser) {\n      this.setState({ user: `${lbUser}`, LogOn: true });\n      this.props.status({ login: true, user: lbUser });\n    }\n  }\n\n  render() {\n    const { loginOnOff } = this.props;\n    const { username } = this.props;\n    return (\n      <div className=\"pole\">\n        { !loginOnOff ?\n          <form className=\"login-div\">\n            <input\n              className=\"login\"\n              name=\"login\"\n              maxLength=\"15\"\n              ref={ref => this.login = ref}\n              type=\"text\"\n              placeholder=\"login\"\n              required />\n            <button\n              onClick={() => {\n                const log = `${this.login.value}`\n                const pas = `${this.password.value}`\n                this.loginTryOn(log, pas)\n              }}\n              type=\"button\"\n              className=\"login-button\"\n            > login </button>\n            <input\n              className=\"password\"\n              name=\"password\"\n              maxLength=\"15\"\n              ref={ref => this.password = ref}\n              type=\"password\"\n              placeholder=\"password\"\n              required />\n\n            <button\n              onClick={() => {\n                const log = `${this.login.value}`\n                const pas = `${this.password.value}`\n                this.regTry(log, pas)\n              }}\n              type=\"button\"\n              className=\"reg-button\"\n            > register</button>\n            <div className=\"status\">{this.state.status}</div>\n          </form> : <Posts />\n        }\n      </div>\n    )\n  }\n}\n\n\n\nconst mapStateToProps = state => ({\n  loginOnOff: state.auth.login,\n  username: state.auth.user,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  status: (stat) => dispatch(statusLogin(stat))\n});\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);","\nimport React from 'react';\nimport Headbar from './Headbar';\nimport Home from './Home';\nimport Posts from './Posts';\n\n\nconst App = () => {\n  return (\n    <div>\n      <Headbar />\n      <Home />\n    </div>\n  );\n};\n\nexport default App;","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Redirect } from \"react-router\";\nimport { connect } from 'react-redux';\nimport Headbar from \"./Headbar\";\nimport { SERVER } from \"./config/config\"\nimport \"./Form.css\";\n\nclass addForm extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      validate: false,\n      author: '',\n      date: '',\n      title: '',\n      content: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    axios.post(`${SERVER}/api/posts/`, {\n      author: this.state.author,\n      date: `${(new Date()).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }) + \", \" + (new Date()).toLocaleDateString()}`,\n      title: this.state.title,\n      content: this.state.content,\n    });\n    this.setState({\n      author: '',\n      date: '',\n      title: '',\n      content: '',\n      sended: true\n    });\n  }\n\n  render() {\n    const { username } = this.props;\n    this.state.author = username;\n    if (this.state.sended) { return <Redirect push to=\"/\" /> }\n    return (\n      <div>\n        <Headbar />\n        <form className=\"form\" onSubmit={this.handleSubmit}>\n          <input\n            className=\"forminput\"\n            name=\"title\"\n            type=\"text\"\n            value={this.state.title}\n            onChange={this.handleChange}\n            placeholder=\"title\" />\n          <br /><br />\n          <textarea\n            className=\"formtextpole\"\n            name=\"content\"\n            type=\"text\"\n            value={this.state.content}\n            onChange={this.handleChange}\n            title={\"Post text\"}\n          />\n          <br /><br />\n          <input\n            className=\"formButton\"\n            type=\"submit\"\n            value=\"send\"\n          />\n        </form>\n      </div>\n\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  username: state.auth.user,\n});\n\nexport default connect(mapStateToProps)(addForm);\n","import React, { Component } from 'react';\nimport { Redirect } from \"react-router\";\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport Headbar from \"./Headbar\";\nimport { SERVER } from \"./config/config\"\nimport \"./Post.css\";\n\nclass Post extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      redir: false,\n      author: '',\n      date: '',\n      title: '',\n      content: ''\n    };\n    this.postDelete = this.postDelete.bind(this);\n  }\n  componentDidMount() {\n    this.renderPost();\n  }\n\n  postDelete = (id) => {\n    this.setState({ redir: true });\n    axios.delete(`${SERVER}/post/${id}`, { id });\n  }\n\n  renderPost = async () => {\n    const id = this.props.location.state.id;\n    await axios.get(`${SERVER}/post/${id}`, { id })\n      .then(post => this.setState(post.data));\n  }\n\n  componentDidUpdate() {\n    if (this.state.redir) {\n      axios.get(`${SERVER}/api/posts/${this.props.username}`)\n        .then(res => res.data)\n        .then(posts => this.setState({ posts }));\n    }\n  }\n\n  render() {\n    const { username } = this.props;\n    if (this.state.redir) { return <Redirect push to=\"/\" /> }\n    return (\n      <div>\n        <Headbar />\n        <div className=\"wrapper-post\">\n          <div className=\"nameplate-post-div\">\n            <div className=\"nameplate-post\">\n              <b>Date:</b> &nbsp; {this.state.date}\n            </div>\n            <div className=\"nameplate-post\">\n              <b>Title:</b> &nbsp; {this.state.title}\n            </div>\n          </div>\n          <div className=\"post-text-pole\">\n            {this.state.content}\n          </div>\n          <button\n            onClick={() => { this.postDelete(this.state._id) }}\n            className=\"delete-post\"\n            type=\"submit\"\n          > delete\n            </button>\n        </div>\n      </div>\n    )\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  username: state.auth.user,\n});\n\nexport default connect(mapStateToProps)(Post);\n","import React from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport App from './App';\nimport Form from './Form';\nimport Posts from './Posts';\nimport Post from './Post';\n\nconst Routs = () => {\n  return (\n    <Router>\n      <Switch>\n        <Route exact path=\"/\" component={App} />\n        <Route path=\"/newpost\" component={Form} />\n        <Route path=\"/posts/:username\" component={Posts} />\n        <Route path=\"/post/:_id\" component={Post} />\n      </Switch>\n    </Router>\n\n  );\n};\n\nexport default Routs;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport store from './store';\nimport Routs from './Routs';\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <Routs />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById('root')\n)\n\n"],"sourceRoot":""}