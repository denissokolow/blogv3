{"version":3,"sources":["img/avocado.png","reducers/auth.js","actions/types.js","reducers/index.js","store.js","actions/auth.js","Login.jsx","Headbar.jsx","Posts.jsx","App.jsx","Form.jsx","Post.jsx","Routs.jsx","index.jsx","config/config.js"],"names":["module","exports","initialState","login","user","reducer","state","action","type","console","log","payload","update","$set","rootReducer","combineReducers","auth","composeEnhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","status","stat","dispatch","Login","props","logOut","setState","LogOn","password","loginOnOff","this","username","className","onClick","Component","connect","statusLogin","Headbar","to","style","textDecoration","src","logo","alt","Posts","postDelete","id","axios","delete","SERVER","posts","length","newposts","filter","i","_id","loginTryOn","pas","get","headers","then","dta","data","param","setTimeout","res","regTry","post","author","bind","slice","reverse","map","key","date","title","content","pathname","name","maxLength","ref","placeholder","required","value","App","addForm","validate","handleChange","handleSubmit","event","target","preventDefault","Date","toLocaleTimeString","hour","minute","toLocaleDateString","push","onSubmit","onChange","Post","redir","renderPost","a","location","Routs","exact","path","component","Form","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b911d02b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/avocado.3951c08c.png\";","import  update   from 'immutability-helper';\nimport { AUTH_ON_OFF } from '../actions/types';\n\n\nconst initialState = {\n    login: '',\n    user: '',\n}\n\nconst reducer = (state = initialState, action) => {\n    const { type } = action;\n    console.log('ACTION', action.payload);\n\n    switch (type){\n        case AUTH_ON_OFF:\n            return update(state, {\n                login: { $set: action.payload.login },\n                user: { $set: action.payload.user },\n            });\n        default:\n            return state;\n    }\n       \n}\n\nexport default reducer;","export const AUTH_ON_OFF = 'AUTH_ON_OFF';","import { combineReducers } from 'redux';\nimport auth from './auth';\n\nconst rootReducer = combineReducers(\n        {\n            auth,\n        }\n);\n    \nexport default rootReducer;\n","import { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducers';\n\nconst initialState = {};\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst store = createStore(\n    rootReducer, \n    initialState, \n    composeEnhancer(applyMiddleware(thunk))\n);\n\nexport default store;\n\n\n","//import { startSession } from 'mongoose';\nimport { AUTH_ON_OFF } from './types';\n\nconst status = (stat) => (dispatch) =>{\n    dispatch({\n    type: AUTH_ON_OFF,\n    payload: {\n        login: stat.login,\n        user: stat.user,\n    }        \n    });\n\n}\n\nexport {status}","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { status as statusLogin } from './actions/auth';\nimport \"./Login.css\";\n\n\nclass Login extends Component { \n    constructor(props) {\n        super(props);\n        this.state = {\n            LogOn: false,\n            user: '',\n            login: '',\n            password: '',\n            status: ''\n        };\n    }\n    logOut = () => {\n        this.setState({ LogOn: false, user: '', status: '' });\n        this.props.status({ login: false, user: '' })\n    }\n\n    render() {\n        const { loginOnOff } = this.props;\n        const { username } = this.props;\n        return (\n            <div className=\"back-login\">\n                { loginOnOff ?\n                    <div className=\"userplate\">\n                        <div className=\"userplate-name\">{username}</div>\n                        <button className=\"userplate-btn\"\n                            onClick={() => this.logOut()}\n                        >logout</button>\n                    </div> : null\n                }\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => ({\n    loginOnOff: state.auth.login,\n    username: state.auth.user,\n});\n\nconst mapDispatchToProps = dispatch => ({\n    status: (stat) => dispatch(statusLogin(stat))\n});\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\n\n\n","import React, { Component } from \"react\";  \nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport logo from './img/avocado.png'\nimport Login from \"./Login\";\nimport \"./Headbar.css\";\n\nclass Headbar extends Component {\n  \n  render() {   \n    const { loginOnOff } = this.props;\n    return (\n      <div className= \"back\">\n      { loginOnOff ?  \n      <div className= \"btn-div\">\n        <Link to=\"/\" className = \"link\" style={{ textDecoration: 'none' }}>\n              <button type=\"button\" className = \"button\">\n                Home\n              </button>\n        </Link> \n        <Link to=\"/newpost\" className = \"link\" style={{ textDecoration: 'none' }}>\n               <button type=\"button\" className = \"button\">\n                New post\n              </button>\n        </Link>\n      </div>\n      : <div className = \"img-div\"> \n            <img src= { logo } alt=\"Avocato Cat\"/> \n        <div className = \"title-div\">\n            Avocato Blog\n        </div>\n        </div> \n      }\n        <Login />\n      </div>\n    );  \n  }\n}\n\nconst mapStateToProps = state =>  ({\n  loginOnOff: state.auth.login\n});\n\nexport default connect (mapStateToProps)(Headbar);","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { status as statusLogin } from './actions/auth';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport {SERVER} from \"./config/config\"\nimport \"./Posts.css\";\n\nclass Posts extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      posts: [],\n      id: '',\n      LogOn: false,\n      user: '',\n      login: '',\n      password: '',\n      status: '',\n      author: ''\n    };\n    this.regTry = this.regTry.bind(this);\n    this.postDelete = this.postDelete.bind(this);\n  }\n\n  postDelete = (id) => {\n    axios.delete(`${SERVER}/api/post/${id}`, { id });\n    if (this.state.posts.length >= 0) {\n      const oldposts = this.state.posts;\n      const newposts = oldposts.filter(i => i._id !== id);\n      this.setState({ posts: newposts });\n    }\n  }\n\n  loginTryOn = (log, pas) => {\n    if (log === '' || pas === '') {\n      this.setState({ status: 'Заполните все поля' })\n    }else {\n      axios.get(`${SERVER}/api/login/`, { headers: { log: log, pas: pas } })\n      .then(dta => dta.data)\n      .then(param => {\n          this.setState(param);\n          setTimeout(() => this.setState({ status: '' }), 2000);\n          this.props.status({ login: param.LogOn, user: param.user });\n          axios.get(`${SERVER}/api/posts/${this.props.username}`)\n            .then(res => res.data)\n            .then(posts => this.setState({ posts }));\n        })\n    }\n  }\n\n  regTry = (log, pas) => {\n    if (log === '' || pas === '') {\n      this.setState({ status: 'Заполните все поля' })\n    } else if (log.length > 10 || pas.length > 10) {\n      this.setState({ status: 'Логин и пароль должны быть не длиннее 10 символов' })\n    } else {\n      axios.post(`${SERVER}/api/login/`, { log, pas })\n        .then(dta => {\n          this.setState(dta.data);\n          setTimeout(() => this.setState({ status: '' }), 2000);\n        })\n    }\n  }\n\n  componentDidMount() {\n    if (this.state.posts.length >= 0) {\n      axios.get(`${SERVER}/api/posts/${this.props.username}`)\n        .then(res => res.data)\n        .then(posts => this.setState({ posts }));\n    }\n  }\n  render() {\n    const { loginOnOff } = this.props;\n    const { username } = this.props;\n    return (\n      <div className=\"pole\">\n        { loginOnOff ?\n          <div className=\"Posts\" >\n            {this.state.posts.slice(0).reverse().map(post =>\n              <div key={post.id} className=\"wrapper-posts\">\n                <div className=\"nameplate-posts-div\">\n                  <div className=\"nameplate-posts\">\n                    <b>Date:</b> &nbsp; {post.date}\n                  </div>\n                  <div className=\"nameplate-posts\">\n                    <b>Titile:</b> &nbsp; {post.title}\n                  </div>\n                </div>\n                <div className=\"text-pole-posts\">\n                  {post.content}\n                </div>\n                <div className=\"button-div\">\n                  <button\n                    onClick={() => { this.postDelete(post._id) }}\n                    className=\"delete-posts\"\n                    type=\"submit\"\n                  > delete\n                </button>\n                  <Link to={{\n                    pathname: `api/posts/${post._id}`,\n                    state: { id: post._id }\n                  }} className=\"detail-posts\" > detail </ Link>\n                </div>\n              </div>\n            )}\n          </div>\n          : <form className=\"login-div\">\n            <input\n              className=\"login\"\n              name=\"login\"\n              maxLength=\"15\"\n              ref={ref => this.login = ref}\n              type=\"text\"\n              placeholder=\"login\"\n              required />\n            <button\n              onClick={() => {\n                const log = `${this.login.value}`\n                const pas = `${this.password.value}`\n                this.loginTryOn(log, pas)\n              }}\n              type=\"button\"\n              className=\"login-button\"\n            > login </button>\n            <input\n              className=\"password\"\n              name=\"password\"\n              maxLength=\"15\"\n              ref={ref => this.password = ref}\n              type=\"password\"\n              placeholder=\"password\"\n              required />\n            <button\n              onClick={() => {\n                const log = `${this.login.value}`\n                const pas = `${this.password.value}`\n                this.regTry(log, pas)\n              }}\n              type=\"button\"\n              className=\"reg-button\"\n            > register</button>\n            <div className=\"status\">{this.state.status}</div>\n          </form>\n        }\n      </div>\n    );\n\n  };\n\n}\n\nconst mapStateToProps = state => ({\n  loginOnOff: state.auth.login,\n  username: state.auth.user,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  status: (stat) => dispatch(statusLogin(stat))\n});\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Posts);","\nimport React from 'react';\nimport Headbar from './Headbar';\nimport Posts from './Posts';\n\n\nconst App = () => {\n    return (\n      <div>\n        <Headbar />\n        <Posts />    \n      </div>\n    );\n  };\n\nexport default App;","import React, { Component } from \"react\";  \nimport axios from \"axios\";\nimport { Redirect } from \"react-router\";\nimport { connect } from 'react-redux';\nimport Headbar from \"./Headbar\";\nimport {SERVER} from \"./config/config\"\nimport \"./Form.css\";\n\nclass addForm extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n                  validate: false,\n                  author: '',\n                  date: '',\n                  title: '',\n                  content: ''\n                };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n       [event.target.name]: event.target.value\n      });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    axios.post(`${SERVER}/api/posts/`,{\n      author: this.state.author,\n      date: `${(new Date()).toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'}) + \", \" + (new Date()).toLocaleDateString()}`,\n      title: this.state.title,\n      content: this.state.content,\n     });\n     this.setState ({   \n      author: '',\n      date: '',\n      title:'',\n      content: '',\n      validate: true\n     });\n  }\n  \n  componentDidUpdate() {\n    if (this.state.validate) {\n      axios.get(`${SERVER}/api/posts/${this.props.username}`)\n      .then(res => res.data)\n      .then(posts => this.setState({ posts }));\n    }\n  }\n  \n  render() {  \n    if (this.state.validate) {return <Redirect push to=\"/\" />}\n    const { username } = this.props;\n    this.state.author =  username;\n    return (\n      <div> \n        <Headbar />  \n        <form className=\"form\" onSubmit={this.handleSubmit}>\n          <input \n                 className= \"forminput\"\n                 name=\"title\"\n                 type=\"text\" \n                 value={this.state.title} \n                 onChange={this.handleChange} \n                 placeholder=\"title\"/>\n          <br/><br/>    \n          <textarea\n                 className = \"formtextpole\"\n                 name=\"content\"\n                 type=\"text\" \n                 value={this.state.content}  \n                 onChange={this.handleChange} \n                 title={\"Post text\"}\n                 />\n          <br/><br/> \n          <input \n                className= \"formButton\"\n                type=\"submit\" \n                value=\"send\" \n          />\n        </form>  \n      </div>\n\n    );  \n  }\n}\n\nconst mapStateToProps = state => ({\n   username: state.auth.user,\n});\n\nexport default connect (mapStateToProps)(addForm);\n","import React, { Component } from 'react';\nimport { Redirect } from \"react-router\";\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport Headbar from \"./Headbar\";\nimport {SERVER} from \"./config/config\"\nimport \"./Post.css\";\n\nclass Post extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n                  redir: false,\n                  author:'',\n                  date:'',\n                  title:'',\n                  content:''\n                };\n  this.postDelete = this.postDelete.bind(this);\n  }\n  componentDidMount() {\n    this.renderPost();\n  }\n\n  postDelete = (id) => {\n    this.setState({redir: true});\n    axios.delete(`${SERVER}/api/post/${id}`, { id });\n    }\n  \n  renderPost = async() => {\n      console.log(this.props.location.state.id);\n      const id = this.props.location.state.id;\n      await axios.get(`${SERVER}/api/post/${id}`, {id})\n      .then(post => this.setState(post.data)); \n  }\n  \n  componentDidUpdate() {\n    if (this.state.redir) {\n      axios.get(`${SERVER}/api/posts/${this.props.username}`)\n      .then(res => res.data)\n      .then(posts => this.setState({ posts }));\n    }\n  }\n    \n  render() {\n    const { username } = this.props;\n    if (this.state.redir) { return <Redirect push to=\"/\" /> }  \n    return (\n      <div>\n        <Headbar />  \n        <div className = \"wrapper-post\">\n          <div className = \"nameplate-post-div\">\n            <div className = \"nameplate-post\">\n              <b>Date:</b> &nbsp; {this.state.date}\n            </div>\n            <div className = \"nameplate-post\">\n              <b>Title:</b> &nbsp; {this.state.title}\n            </div>\n            </div>\n            <div className = \"post-text-pole\">\n                {this.state.content}\n            </div>\n            <button\n                    onClick= { () => {this.postDelete(this.state._id)}}\n                    className = \"delete-post\"\n                    type = \"submit\"\n                    > delete               \n            </button>\n         </div>\n         </div>\n        )}\n      \n }     \n\n const mapStateToProps = state => ({\n  username: state.auth.user,\n});\n\nexport default connect (mapStateToProps)(Post);\n","import React from 'react';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport App from './App';\nimport Form from './Form';\nimport Post from \"./Post\"\n\nconst Routs = () => {\n    return (\n      <section>\n        <Router>               \n         <Route exact path=\"/newpost\" component={Form} /> \n         <Route exact path=\"/\" component={App} />\n         <Route exact path=\"/api/posts/:id\" component={Post}  />        \n        </Router>     \n      </section>\n    );\n  };\n\n  export default Routs;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport store from './store';\nimport Routs from './Routs';\n\nReactDOM.render(\n  <Provider store={store}>\n  <React.StrictMode>\n      <Routs />\n  </React.StrictMode>\n  </Provider>, \n  document.getElementById('root')\n)\n\n","module.exports = {\n\n    SERVER: \"http://localhost:3001\"\n    \n}"],"sourceRoot":""}