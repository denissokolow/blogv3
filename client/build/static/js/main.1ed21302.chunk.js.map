{"version":3,"sources":["img/avocado.png","config/config.js","reducers/auth.js","actions/types.js","reducers/index.js","store.js","actions/auth.js","Login.jsx","Headbar.jsx","Posts.jsx","Home.jsx","App.jsx","Form.jsx","Post.jsx","Routs.jsx","index.jsx"],"names":["module","exports","SERVER","initialState","login","user","reducer","state","action","type","console","log","payload","update","$set","rootReducer","combineReducers","auth","composeEnhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","status","stat","dispatch","Login","props","logOut","setState","LogOn","localStorage","clear","password","loginOnOff","this","username","className","onClick","Component","connect","statusLogin","Headbar","to","style","textDecoration","src","logo","alt","Posts","postDelete","id","axios","delete","setTimeout","get","then","res","data","posts","setItem","JSON","stringify","author","bind","length","slice","reverse","map","post","key","_id","date","title","content","pathname","Home","loginTryOn","pas","headers","dta","param","regTry","lbUser","getItem","name","maxLength","ref","placeholder","required","value","App","addForm","validate","handleChange","handleSubmit","event","target","preventDefault","Date","toLocaleTimeString","hour","minute","toLocaleDateString","sended","push","onSubmit","onChange","Post","redir","renderPost","a","location","Routs","exact","path","component","Form","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1ed21302.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/avocado.3951c08c.png\";","module.exports = {\n\n    SERVER: \"http://45.67.58.188/\"\n\n    \n}","import  update   from 'immutability-helper';\nimport { AUTH_ON_OFF } from '../actions/types';\n\n\nconst initialState = {\n    login: '',\n    user: '',\n}\n\nconst reducer = (state = initialState, action) => {\n    const { type } = action;\n    console.log('ACTION', action.payload);\n\n    switch (type){\n        case AUTH_ON_OFF:\n            return update(state, {\n                login: { $set: action.payload.login },\n                user: { $set: action.payload.user },\n            });\n        default:\n            return state;\n    }\n       \n}\n\nexport default reducer;","export const AUTH_ON_OFF = 'AUTH_ON_OFF';","import { combineReducers } from 'redux';\nimport auth from './auth';\n\nconst rootReducer = combineReducers(\n        {\n            auth,\n        }\n);\n    \nexport default rootReducer;\n","import { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducers';\n\nconst initialState = {};\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst store = createStore(\n    rootReducer, \n    initialState, \n    composeEnhancer(applyMiddleware(thunk))\n);\n\nexport default store;\n\n\n","//import { startSession } from 'mongoose';\nimport { AUTH_ON_OFF } from './types';\n\nconst status = (stat) => (dispatch) =>{\n    dispatch({\n    type: AUTH_ON_OFF,\n    payload: {\n        login: stat.login,\n        user: stat.user,\n    }        \n    });\n\n}\n\nexport {status}","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { status as statusLogin } from './actions/auth';\nimport \"./Login.css\";\n\n\nclass Login extends Component { \n    constructor(props) {\n        super(props);\n        this.state = {\n            LogOn: false,\n            user: '',\n            login: '',\n            password: '',\n            status: ''\n        };\n    }\n    logOut = () => {\n        this.setState({ LogOn: false, user: '', status: '' });\n        this.props.status({ login: false, user: '' })\n        localStorage.clear()\n    }\n\n    render() {\n        const { loginOnOff } = this.props;\n        const { username } = this.props;\n        return (\n            <div className=\"back-login\">\n                { loginOnOff ?\n                    <div className=\"userplate\">\n                        <div className=\"userplate-name\">{username}</div>\n                        <button className=\"userplate-btn\"\n                            onClick={() => this.logOut()}\n                        >logout</button>\n                    </div> : null\n                }\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => ({\n    loginOnOff: state.auth.login,\n    username: state.auth.user,\n});\n\nconst mapDispatchToProps = dispatch => ({\n    status: (stat) => dispatch(statusLogin(stat))\n});\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\n\n\n","import React, { Component } from \"react\";  \nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport logo from './img/avocado.png'\nimport Login from \"./Login\";\nimport \"./Headbar.css\";\n\nclass Headbar extends Component {\n  \n  render() {   \n    const { loginOnOff } = this.props;\n    return (\n      <div className= \"back\">\n      { loginOnOff ?  \n      <div className= \"btn-div\">\n        <Link to=\"/\" className = \"link\" style={{ textDecoration: 'none' }}>\n              <button type=\"button\" className = \"button\">\n                Home\n              </button>\n        </Link> \n        <Link to=\"/newpost\" className = \"link\" style={{ textDecoration: 'none' }}>\n               <button type=\"button\" className = \"button\">\n                New post\n              </button>\n        </Link>\n      </div>\n      : <div className = \"img-div\"> \n            <img src= { logo } alt=\"Avocato Cat\"/> \n        <div className = \"title-div\">\n            Avocato Diary\n        </div>\n        </div> \n      }\n        <Login />\n      </div>\n    );  \n  }\n}\n\nconst mapStateToProps = state =>  ({\n  loginOnOff: state.auth.login\n});\n\nexport default connect (mapStateToProps)(Headbar);","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { status as statusLogin } from './actions/auth';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport {SERVER} from \"./config/config\";\nimport \"./Posts.css\";\n\nclass Posts extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      posts: [],\n      id: '',\n      LogOn: false,\n      user: '',\n      login: '',\n      password: '',\n      status: '',\n      author: ''\n    };\n    this.postDelete = this.postDelete.bind(this);\n  }\n\n  postDelete = (id) => {\n    axios.delete(`${SERVER}/post/${id}`, { id });\n    setTimeout(() => {\n    axios.get(`${SERVER}/posts/${this.props.username}`)\n        .then(res => res.data)\n        .then(posts => {\n          console.log(\"del update posts from server \", posts)  \n          this.setState({ posts })\n          localStorage.setItem('posts', `${JSON.stringify(this.state.posts)}`)\n          })\n      }, 100);\n  }\n\n  componentDidUpdate() {\n    //console.log('в posts update');\n    //const lbPosts = JSON.parse(localStorage.getItem('posts'));\n    //console.log(\"длина стейта \", this.state.posts.length,\"длина локалбеза \", lbPosts.length);\n    axios.get(`${SERVER}/posts/${this.props.username}`)\n        .then(res => res.data)\n        .then(posts => {\n          if (posts.length > this.state.posts.length){\n          console.log(\"update posts from server\")  \n          this.setState({ posts })\n          localStorage.setItem('posts', `${JSON.stringify(this.state.posts)}`)\n          //console.log(\"длина стейта \", this.state.posts.length,\"длина локалбеза \", lbPosts.length);\n          }\n      })\n    }\n  componentDidMount() {\n    console.log('в posts mount');\n    //const lbPosts = JSON.parse(localStorage.getItem('posts'));\n    /*if (lbPosts){\n      console.log(\"download posts from lb\")\n      this.setState({ \"posts\": lbPosts })\n    }else*/ \n    if (this.state.posts.length >= 0) {\n      axios.get(`${SERVER}/posts/${this.props.username}`)\n        .then(res => res.data)\n        .then(posts => {\n          this.setState({ posts })\n          localStorage.setItem('posts', `${JSON.stringify(this.state.posts)}`)\n        }\n        );\n    }\n  }\n\n  render() {\n    const { loginOnOff } = this.props;\n    const { username } = this.props;\n    return (\n      <div className=\"pole\">\n        <div className=\"Posts\" >\n        {this.state.posts.slice(0).reverse().map(post =>\n          <div key={post._id} className=\"wrapper-posts\">\n            <div className=\"nameplate-posts-div\">\n              <div className=\"nameplate-posts\">\n                <b>Date:</b> &nbsp; {post.date}\n              </div>\n              <div className=\"nameplate-posts\">\n                <b>Titile:</b> &nbsp; {post.title}\n              </div>\n            </div>\n            <div className=\"text-pole-posts\">\n              {post.content}\n            </div>\n            <div className=\"button-div\">\n              <button\n                onClick={() => { this.postDelete(post._id) }}\n                className=\"delete-posts\"\n                type=\"submit\"\n              > delete\n            </button>\n              <Link to={{\n                pathname: `post/${post._id}`,\n                state: { id: post._id }\n              }} className=\"detail-posts\" > detail </ Link>\n            </div>\n          </div>\n        )}\n      </div>\n      </div>\n    );\n  };\n}\n\nconst mapStateToProps = state => ({\n  loginOnOff: state.auth.login,\n  username: state.auth.user,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  status: (stat) => dispatch(statusLogin(stat))\n});\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Posts);","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { status as statusLogin } from './actions/auth';\nimport { Link, Redirect } from 'react-router-dom';\nimport axios from 'axios';\nimport Posts from './Posts';\nimport {SERVER} from \"./config/config\";\n\nclass Home extends Component { \n    constructor(props) {\n        super(props);\n        this.state = {\n            posts: [],\n            LogOn: false,\n            user: '',\n            login: '',\n            password: '',\n            status: ''\n        };\n    }\n    loginTryOn = (log, pas) => {\n        if (log === '' || pas === '') {\n          this.setState({ status: 'Заполните все поля' })\n        }else {\n          axios.get(`${SERVER}/api/login/`, { headers: { log: log, pas: pas } })\n          .then(dta => dta.data)\n          .then(param => {\n              this.setState(param);\n              if (param.user) {\n                localStorage.setItem('user', param.user)\n                }\n              setTimeout(() => {\n              this.setState({ status: '' }); \n              this.props.status({ login: param.LogOn, user: param.user })\n              }, 1500); \n          });\n      }}\n    \n      regTry = (log, pas) => {\n        if (log === '' || pas === '') {\n          this.setState({ status: 'Заполните все поля' })\n        } else if (log.length > 10 || pas.length > 10) {\n          this.setState({ status: 'Логин и пароль должны быть не длиннее 10 символов' })\n        } else if (log.length < 3 || pas.length < 3) {\n          this.setState({ status: 'Логин и пароль должны быть длиннее 3 символов' })\n        } else {\n          axios.post(`${SERVER}/api/login/`, { log, pas })\n            .then(dta => {\n              this.setState(dta.data);\n              setTimeout(() => this.setState({ status: '' }), 2000);\n            })\n        }\n      }\n      componentDidMount() {\n      const lbUser = localStorage.getItem('user');\n      if (lbUser) {\n        console.log('authorisation from lb')\n        this.setState({user: `${lbUser}`, LogOn: true});\n        this.props.status({ login: true, user: lbUser });\n            }\n      }\n\n    render() {\n        const { loginOnOff } = this.props;\n        const { username } = this.props;\n        return (\n          <div className=\"pole\">\n           { !loginOnOff ?\n            <form className=\"login-div\">\n            <input\n              className=\"login\"\n              name=\"login\"\n              maxLength=\"15\"\n              ref={ref => this.login = ref}\n              type=\"text\"\n              placeholder=\"login\"\n              required /> \n            <button\n              onClick={() => {\n                const log = `${this.login.value}`\n                const pas = `${this.password.value}`\n                this.loginTryOn(log, pas)\n              }}\n              type=\"button\"\n              className=\"login-button\"\n            > login </button>\n            <input\n              className=\"password\"\n              name=\"password\"\n              maxLength=\"15\"\n              ref={ref => this.password = ref}\n              type=\"password\"\n              placeholder=\"password\"\n              required />\n              \n            <button\n              onClick={() => {\n                const log = `${this.login.value}`\n                const pas = `${this.password.value}`\n                this.regTry(log, pas)\n              }}\n              type=\"button\"\n              className=\"reg-button\"\n            > register</button>\n            <div className=\"status\">{this.state.status}</div>\n          </form>: <Posts />\n          }          \n      </div>\n        )\n    }\n}\n\n\n\nconst mapStateToProps = state => ({\n    loginOnOff: state.auth.login,\n    username: state.auth.user,\n});\n\nconst mapDispatchToProps = dispatch => ({\n    status: (stat) => dispatch(statusLogin(stat))\n});\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);","\nimport React from 'react';\nimport Headbar from './Headbar';\nimport Home from './Home';\nimport Posts from './Posts';\n\n\nconst App = () => {\n    return (\n      <div>\n        <Headbar />\n        <Home />    \n      </div>\n    );\n  };\n\nexport default App;","import React, { Component } from \"react\";  \nimport axios from \"axios\";\nimport { Redirect } from \"react-router\";\nimport { connect } from 'react-redux';\nimport Headbar from \"./Headbar\";\nimport {SERVER} from \"./config/config\"\nimport \"./Form.css\";\n\nclass addForm extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n                  validate: false,\n                  author: '',\n                  date: '',\n                  title: '',\n                  content: ''\n                };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n       [event.target.name]: event.target.value\n      });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    axios.post(`${SERVER}/api/posts/`,{\n      author: this.state.author,\n      date: `${(new Date()).toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'}) + \", \" + (new Date()).toLocaleDateString()}`,\n      title: this.state.title,\n      content: this.state.content,\n     });\n     this.setState ({   \n      author: '',\n      date: '',\n      title:'',\n      content: '',\n      sended: true\n     });\n  }\n  \n  render() {\n    const { username } = this.props;\n    this.state.author =  username;\n    if (this.state.sended) {return <Redirect push to= \"/\" />}\n    return (\n      <div> \n        <Headbar />  \n        <form className=\"form\" onSubmit={this.handleSubmit}>\n          <input \n                 className= \"forminput\"\n                 name=\"title\"\n                 type=\"text\" \n                 value={this.state.title} \n                 onChange={this.handleChange} \n                 placeholder=\"title\"/>\n          <br/><br/>    \n          <textarea\n                 className = \"formtextpole\"\n                 name=\"content\"\n                 type=\"text\" \n                 value={this.state.content}  \n                 onChange={this.handleChange} \n                 title={\"Post text\"}\n                 />\n          <br/><br/> \n          <input \n                className= \"formButton\"\n                type=\"submit\" \n                value=\"send\" \n          />\n        </form>  \n      </div>\n\n    );  \n  }\n}\n\nconst mapStateToProps = state => ({\n   username: state.auth.user,\n});\n\nexport default connect (mapStateToProps)(addForm);\n","import React, { Component } from 'react';\nimport { Redirect } from \"react-router\";\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport Headbar from \"./Headbar\";\nimport {SERVER} from \"./config/config\"\nimport \"./Post.css\";\n\nclass Post extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n                  redir: false,\n                  author:'',\n                  date:'',\n                  title:'',\n                  content:''\n                };\n  this.postDelete = this.postDelete.bind(this);\n  }\n  componentDidMount() {\n    this.renderPost();\n  }\n\n  postDelete = (id) => {\n    this.setState({redir: true});\n    axios.delete(`${SERVER}/post/${id}`, { id });\n    }\n  \n  renderPost = async() => {\n      console.log(this.props.location.state.id);\n      const id = this.props.location.state.id;\n      await axios.get(`${SERVER}/post/${id}`, {id})\n      .then(post => this.setState(post.data)); \n  }\n  \n  componentDidUpdate() {\n    if (this.state.redir) {\n      axios.get(`${SERVER}/api/posts/${this.props.username}`)\n      .then(res => res.data)\n      .then(posts => this.setState({ posts }));\n    }\n  }\n    \n  render() {\n    const { username } = this.props;\n    if (this.state.redir) { return <Redirect push to=\"/\" /> }  \n    return (\n      <div>\n        <Headbar />  \n        <div className = \"wrapper-post\">\n          <div className = \"nameplate-post-div\">\n            <div className = \"nameplate-post\">\n              <b>Date:</b> &nbsp; {this.state.date}\n            </div>\n            <div className = \"nameplate-post\">\n              <b>Title:</b> &nbsp; {this.state.title}\n            </div>\n            </div>\n            <div className = \"post-text-pole\">\n                {this.state.content}\n            </div>\n            <button\n                    onClick= { () => {this.postDelete(this.state._id)}}\n                    className = \"delete-post\"\n                    type = \"submit\"\n                    > delete               \n            </button>\n         </div>\n         </div>\n        )}\n      \n }     \n\n const mapStateToProps = state => ({\n  username: state.auth.user,\n});\n\nexport default connect (mapStateToProps)(Post);\n","import React from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport App from './App';\nimport Form from './Form';\nimport Posts from './Posts';\nimport Post from './Post';\n\nconst Routs = () => {\n    return (\n        <Router>\n          <Switch> \n              <Route exact path=\"/\" component= {App} />\n              <Route path=\"/newpost\" component= {Form} />\n              <Route path=\"/posts/:username\" component= {Posts} />\n              <Route path=\"/post/:_id\" component= {Post}/>  \n          </Switch>\n        </Router>     \n    \n    );\n  };\n\n  export default Routs;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport store from './store';\nimport Routs from './Routs';\n\nReactDOM.render(\n  <Provider store={store}>\n  <React.StrictMode>\n      <Routs />\n  </React.StrictMode>\n  </Provider>, \n  document.getElementById('root')\n)\n\n"],"sourceRoot":""}